webpackJsonp([1],{"0dib":function(t,e){},"1/oy":function(t,e){},"3gm6":function(t,e){},"6sYR":function(t,e){},"7GTQ":function(t,e){},"8b3b":function(t,e){},"9M+g":function(t,e){},BqgG:function(t,e){},CKrp:function(t,e){},HNc9:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},KXa2:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,o,n,s=r("7+uW"),i=r("e6fC"),c=r("Dd8w"),d=r.n(c),u={categories:[{id:7,name:"Kategoria1",categoryOrder:"2.0"},{id:6,name:"Kategoria2",categoryOrder:"1.0"}],products:function(t){return 7==t?JSON.parse('[{"id": 41, "name": "Piwo", "price": 9.99,"quantity": 100,"status": "new","description": "Najlepsze piwerko","imagePath": "sciezka/do/pliku.jpg"},{"id": 42,"name": "Inne piwo","price": 9.99,"quantity": 100,"status": "onsale","description": "Najgorsze piwerko","imagePath": "sciezka/do/pliku.jpg"}]'):[]}},l=r("Xxa5"),p=r.n(l),m=r("exGp"),g=r.n(m),v=(a=g()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","test");case 1:case"end":return t.stop()}},t,this)})),o=g()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)}),f=(n=g()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Logging Out");case 1:case"end":return t.stop()}},t,this)})),r("NYxO")),b={name:"CategoryItem",props:{category:{type:Object,required:!0}},computed:d()({},Object(f.c)({selectedCategory:"selectedCategory"})),data:function(){return{}}},C={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"categoryItem"},[r("b-list-group-item",{class:{active:t.category.id===t.selectedCategory},on:{click:function(e){t.$emit("category-clicked",t.category.id)}}},[t._v("\n    "+t._s(t.category.name)+"\n  ")])],1)},staticRenderFns:[]};var h=r("VU/8")(b,C,!1,function(t){r("7GTQ")},"data-v-4503d9e7",null).exports,y={name:"ProductItem",props:{product:{type:Object,required:!0},deleteFromCart:{required:!0}},methods:{deleteFromCartClick:function(){this.deleteFromCart(this.product.id)}},data:function(){return{}}},w={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",[r("b-col",{staticClass:"name-col"},[t._v("\n    "+t._s(t.product.name)+"\n  ")]),t._v(" "),r("b-col",{staticClass:"quantity-col"},[t._v("\n    "+t._s(t.product.quantity)+"\n  ")]),t._v(" "),r("b-col",{staticClass:"price-col"},[t._v("\n    "+t._s(t.product.price*t.product.quantity)+"zł\n  ")]),t._v(" "),r("b-col",[r("b-button",{on:{click:t.deleteFromCartClick}},[t._v("Usuń")])],1)],1)},staticRenderFns:[]};var _=r("VU/8")(y,w,!1,function(t){r("6sYR")},"data-v-940609ca",null).exports,k=u.categories.map(function(t){return t.active=!1,t}),F={name:"NavBar",components:{CategoryItem:h,DropdownCartItem:_},computed:d()({},Object(f.c)({cartProducts:"cart",cartSum:"cartSum",cartCount:"cartCount",loggedUser:"loggedUser"})),methods:d()({},Object(f.d)({dumpCart:"dumpCart",addToCart:"addToCart",deleteFromCart:"deleteFromCart",setLoggedUser:"setLoggedUser"}),Object(f.b)(["logoutUser"]),{logout:function(){this.logoutUser(),this.$router.push("/Login")}}),data:function(){return{categories:k}}},x={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info",fixed:"top"}},[r("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),r("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{href:"#"}},[r("router-link",{attrs:{to:"/"}},[t._v("Sklep")])],1),t._v(" "),r("b-nav-item",{attrs:{href:"#"}},[r("router-link",{attrs:{to:"/AboutUs"}},[t._v("O Nas")])],1),t._v(" "),r("b-nav-item",{attrs:{href:"#"}},[r("router-link",{attrs:{to:"/Contact"}},[t._v("Kontakt")])],1)],1),t._v(" "),r("b-navbar-nav",{staticClass:"ml-auto"},[null===t.loggedUser?r("b-nav-item",{attrs:{href:"#"}},[r("router-link",{attrs:{to:"/Login"}},[t._v("Login")])],1):t._e(),t._v(" "),null!==t.loggedUser?r("b-nav-text",[r("div",{staticClass:"reset-color"},[t._v("Witaj "),r("b",[t._v(t._s(t.loggedUser))])])]):t._e(),t._v(" "),null!==t.loggedUser?r("b-nav-item",[r("b-link",{on:{click:function(e){t.logout()}}},[t._v("Logout")])],1):t._e(),t._v(" "),r("b-nav-item-dropdown",{attrs:{right:""}},[r("template",{slot:"button-content"},[r("em",[t._v("Koszyk("+t._s(t.cartCount)+")")])]),t._v(" "),r("b-container",{staticStyle:{"min-width":"400px"}},[t._l(t.cartProducts,function(e){return r("div",[r("DropdownCartItem",{attrs:{product:e,deleteFromCart:t.deleteFromCart}})],1)}),t._v(" "),r("div",{staticStyle:{"text-align":"right"}},[t._v("Suma do zapłaty: "+t._s(t.cartSum)+" zł")]),t._v(" "),r("div",{staticStyle:{"text-align":"right"}},[r("router-link",{attrs:{to:"/Order"}},[r("b-button",[t._v("Zamów")])],1)],1)],2)],2)],1)],1)],1)},staticRenderFns:[]};var U={name:"App",components:{NavBar:r("VU/8")(F,x,!1,function(t){r("8b3b")},"data-v-55600ebd",null).exports}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("NavBar"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var P=r("VU/8")(U,$,!1,function(t){r("UrYE")},null,null).exports,q=r("/ocq"),j={name:"CategoryMenu",components:{CategoryItem:h},props:{categories:{type:Array,required:!0}},data:function(){return{}}},z={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"categories"},[r("b-list-group",t._l(t.categories,function(e){return r("div",[r("CategoryItem",{attrs:{category:e},on:{"category-clicked":function(r){t.$emit("category-clicked",e.id)}}})],1)}))],1)},staticRenderFns:[]};var R=r("VU/8")(j,z,!1,function(t){r("BqgG")},"data-v-016dab9a",null).exports,T=r("mvHQ"),O=r.n(T),L={name:"ProductItem",props:{product:{type:Object,required:!0},addToCart:{required:!0}},methods:{addToCartOnClick:function(){var t=JSON.parse(O()(this.product));t.quantity=this.quantity,this.addToCart(t)}},data:function(){return{quantity:1}}},I={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"productItem"},[r("div",{staticClass:"container py-3"},[r("div",{staticClass:"card"},[r("div",{staticClass:"row "},[r("div",{staticClass:"col-md-4"},[r("img",{staticClass:"w-100 item-picture",attrs:{src:t.product.imagePath}})]),t._v(" "),r("div",{staticClass:"col-md-8 px-3 description"},[r("div",{staticClass:"card-block px-3"},[r("h4",{staticClass:"card-title"},[t._v(t._s(t.product.name))]),t._v(" "),r("p",{staticClass:"card-text"},[t._v(t._s(t.product.description))])]),t._v(" "),r("form",[t._v("\n            Cena za sztukę: "+t._s(t.product.price)+" zł\n            "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"inputQuantity",placeholder:"1",min:"1",max:t.product.quantity},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-sm-10"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"addToCart"},on:{click:t.addToCartOnClick}},[t._v("Dodaj do Koszyka")])])])])])])])])])},staticRenderFns:[]};var S={name:"ProductList",components:{ProductItem:r("VU/8")(L,I,!1,function(t){r("WX+y")},"data-v-bfa330dc",null).exports},props:{products:{type:Array,required:!0}},methods:d()({},Object(f.d)({dumpCart:"dumpCart",addToCart:"addToCart"})),data:function(){return{}}},N={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"products"},[r("b-list-group",t._l(t.products,function(e){return r("div",[r("ProductItem",{attrs:{product:e,addToCart:t.addToCart}})],1)}))],1)},staticRenderFns:[]};var E=r("VU/8")(S,N,!1,function(t){r("3gm6")},"data-v-26408f74",null).exports;u.categories.map(function(t){return t.active=!1,t});var A={name:"MainShop",components:{CategoryMenu:R,ProductList:E},methods:d()({changeActiveCategory:function(t){this.selectedCategory!==t&&this.selectCategory(t)}},Object(f.d)({}),Object(f.b)(["initCategories","selectCategory"])),computed:d()({},Object(f.c)({displayedProducts:"displayedProducts",categories:"categories",selectedCategory:"selectedCategory"})),created:function(){this.initCategories()},data:function(){return{}}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"shop"},[e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",[e("CategoryMenu",{attrs:{categories:this.categories},on:{"category-clicked":this.changeActiveCategory}})],1),this._v(" "),e("b-col",{attrs:{cols:"10"}},[e("ProductList",{attrs:{products:this.displayedProducts}})],1)],1)],1)],1)},staticRenderFns:[]};var G=r("VU/8")(A,D,!1,function(t){r("PSrW")},"data-v-082c527e",null).exports,K={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"aboutus"},[this._v("\n  About Us page\n")])},staticRenderFns:[]};var W=r("VU/8")({name:"AboutUs",data:function(){return{loremIpsum:"abc"}}},K,!1,function(t){r("CKrp")},"data-v-715c7e4e",null).exports,V={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"contact"},[this._v("\n  Contact page\n")])},staticRenderFns:[]};var B=r("VU/8")({name:"Contact",data:function(){return{loremIpsum:"abc"}}},V,!1,function(t){r("0dib")},"data-v-2e11e27a",null).exports,M=r("+cKO"),H={name:"Order",data:function(){return{loremIpsum:"abc",orderForm:{}}},computed:d()({},Object(f.c)({cartProducts:"cart",cartSum:"cartSum",cartCount:"cartCount",loggedUser:"loggedUser"})),methods:d()({},Object(f.d)({dumpCart:"dumpCart",addToCart:"addToCart",deleteFromCart:"deleteFromCart"}),{orderCart:function(){var t=this;return g()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.cartProducts.length<1)){e.next=3;break}return alert("Koszyk jest pusty!"),e.abrupt("return");case 3:null!==t.loggedUser?(console.log("Zamówienie Wysłane"),t.dumpCart()):alert("Do utworzenia zamówienia potrzeba najpierw się zalogować!!!");case 4:case"end":return e.stop()}},e,t)}))()}}),validations:{orderForm:{confirmation:{checked:function(t){return!0===t}}}}},J={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order"},[r("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}}),t._v(" "),t._l(t.cartProducts,function(e){return r("div",[r("div",{staticClass:"container py-1"},[r("div",{staticClass:"card"},[r("div",{staticClass:"row "},[r("div",{staticClass:"col-md-2"},[r("img",{staticClass:"w-100 item-picture",attrs:{src:e.imagePath}})]),t._v(" "),r("div",{staticClass:"col-md-4 description"},[r("div",{staticClass:"card-block"},[r("h4",{staticClass:"card-title"},[t._v(t._s(e.name))]),t._v(" "),r("p",{staticClass:"card-text"},[t._v(t._s(e.description))])])]),t._v(" "),r("div",{staticClass:"col-md-4 centered"},[t._v("\n              Ilość: "+t._s(e.quantity)+"\n            ")]),t._v(" "),r("div",{staticClass:"col-md-2 centered"},[r("button",{staticClass:"btn",on:{click:function(r){t.deleteFromCart(e.id)}}},[r("i",{staticClass:"fa fa-trash"})])])])])])])}),t._v(" "),r("div",{staticClass:"total"},[t._v("\n    Suma do zapłaty: "+t._s(t.cartSum)+" zł\n  ")]),t._v(" "),r("div",{attrs:{id:"consentForm"}},[r("b-form",{staticClass:"login-form",on:{submit:t.orderCart}},[r("b-form-group",{attrs:{id:"orderConfirmationGroup"}},[r("b-form-checkbox",{staticClass:"checkbox-labeled",attrs:{id:"orderConfirmation",type:"checkbox",state:!t.$v.orderForm.confirmation.$invalid},model:{value:t.orderForm.confirmation,callback:function(e){t.$set(t.orderForm,"confirmation",e)},expression:"orderForm.confirmation"}},[t._v("\n          Potwierdzam, że chcę zamówić dokładnie to co znajduje się w koszyku i z pewnością zapłacę, tak mi dopomóż Bóg\n        ")])],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.$v.orderForm.$invalid}},[t._v("\n        Zamów\n      ")])],1)],1)],2)},staticRenderFns:[]};var Q=r("VU/8")(H,J,!1,function(t){r("KXa2")},"data-v-50801d06",null).exports,X={name:"LoginPage",components:{},data:function(){return{loginCredentials:{username:"",password:""},registerCredentials:{username:"",password:"",repeatedPassword:"",email:"",terms:!1,personalData:!1},communicating:!1,error:"",loginForm:{},registerForm:{}}},validations:{loginForm:{name:{required:M.required},password:{required:M.required}},registerForm:{name:{required:M.required},password:{required:M.required},passwordRepeat:{sameAsPassword:Object(M.sameAs)("password")},email:{required:M.required,email:M.email},terms:{required:M.required,mustBeTrue:function(t){return!0===t}},personalData:{required:M.required,mustBeTrue:function(t){return!0===t}}}},methods:d()({},Object(f.b)(["loginUser"]),{submitLogin:function(){var t=this;return g()(p.a.mark(function e(){var r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.communicating=!0,r={username:t.loginForm.name,password:t.loginForm.password},e.next=4,t.loginUser(r);case 4:t.communicating=!1;case 5:case"end":return e.stop()}},e,t)}))()},submitRegister:function(){var t=this;return g()(p.a.mark(function e(){var r,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.communicating=!0,r={username:t.loginCredentials.username,password:t.loginCredentials.password},e.next=4,v(r);case 4:a=e.sent,console.log(a);case 6:case"end":return e.stop()}},e,t)}))()}})},Y={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{fluid:""}},[r("b-row",[r("b-col",[r("b-form",{staticClass:"login-form",on:{submit:t.submitLogin}},[r("b-form-group",{attrs:{id:"loginNameGroup"}},[r("b-form-input",{attrs:{id:"loginName",type:"text",state:!t.$v.loginForm.name.$invalid,"aria-describedby":"nameLoginFeedback",placeholder:"Wprowadź login"},model:{value:t.loginForm.name,callback:function(e){t.$set(t.loginForm,"name",e)},expression:"loginForm.name"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{id:"nameLoginFeedback"}},[t._v("\n            To pole jest wymagane\n          ")])],1),t._v(" "),r("b-form-group",{attrs:{id:"loginPasswordGroup"}},[r("b-form-input",{attrs:{id:"loginPasswordInput",type:"password",state:!t.$v.loginForm.password.$invalid,"aria-describedby":"passwordLoginFeedback",placeholder:"Wprowadź hasło"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{id:"passwordLoginFeedback"}},[t._v("\n            To pole jest wymagane\n          ")])],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.$v.loginForm.$invalid}},[t._v("\n          Logowanie\n        ")])],1)],1),t._v(" "),r("b-col",[r("b-form",{staticClass:"login-form",on:{submit:t.submitRegister}},[r("b-form-group",{attrs:{id:"registerNameGroup"}},[r("b-form-input",{attrs:{id:"registerName",type:"text",state:!t.$v.registerForm.name.$invalid,"aria-describedby":"nameRegisterFeedback",placeholder:"Wprowadź login"},model:{value:t.registerForm.name,callback:function(e){t.$set(t.registerForm,"name",e)},expression:"registerForm.name"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{id:"nameRegisterFeedback"}},[t._v("\n            To pole jest wymagane\n          ")])],1),t._v(" "),r("b-form-group",{attrs:{id:"registerPasswordGroup"}},[r("b-form-input",{attrs:{id:"registerPasswordInput",type:"password",state:!t.$v.registerForm.password.$invalid,"aria-describedby":"passwordRegisterFeedback",placeholder:"Wprowadź hasło"},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{id:"passwordRegisterFeedback"}},[t._v("\n            To pole jest wymagane\n          ")])],1),t._v(" "),r("b-form-group",{attrs:{id:"registerPasswordRepeatGroup"}},[r("b-form-input",{attrs:{id:"registerPasswordRepeatInput",type:"password",state:!t.$v.registerForm.passwordRepeat.$invalid,"aria-describedby":"passwordRepeatRegisterFeedback",placeholder:"Powtórz hasło"},model:{value:t.registerForm.passwordRepeat,callback:function(e){t.$set(t.registerForm,"passwordRepeat",e)},expression:"registerForm.passwordRepeat"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{id:"passwordRepeatRegisterFeedback"}},[t._v("\n            Hasła nie są zgodne\n          ")])],1),t._v(" "),r("b-form-group",{attrs:{id:"registerEmailGroup"}},[r("b-form-input",{attrs:{id:"registerEmailInput",type:"email",state:!t.$v.registerForm.email.$invalid,"aria-describedby":"emailRegisterFeedback",placeholder:"Wprowadź email"},model:{value:t.registerForm.email,callback:function(e){t.$set(t.registerForm,"email",e)},expression:"registerForm.email"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{id:"emailRegisterFeedback"}},[t._v("\n            Podaj prawidłowy adres email\n          ")])],1),t._v(" "),r("b-form-group",{attrs:{id:"registerTermsGroup"}},[r("b-form-checkbox",{staticClass:"checkbox-labeled",attrs:{id:"registerTerms",type:"checkbox",state:!t.$v.registerForm.terms.$invalid,"aria-describedby":"termsRegisterFeedback"},model:{value:t.registerForm.terms,callback:function(e){t.$set(t.registerForm,"terms",e)},expression:"registerForm.terms"}},[t._v("\n            Potwierdzam 100% nieznajomość regulaminu. Kto ma czas na czytanie regulaminów\n          ")])],1),t._v(" "),r("b-form-group",{attrs:{id:"registerPersonalDataGroup"}},[r("b-form-checkbox",{staticClass:"checkbox-labeled",attrs:{id:"registerPersonalData",type:"checkbox",state:!t.$v.registerForm.personalData.$invalid,"aria-describedby":"personalDataRegisterFeedback"},model:{value:t.registerForm.personalData,callback:function(e){t.$set(t.registerForm,"personalData",e)},expression:"registerForm.personalData"}},[t._v("\n            Akceptuję przetwarzanie i wykorzystywanie moich danych w dowolny nieprzewidziany przeze mnie sposób\n          ")])],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.$v.registerForm.$invalid}},[t._v("\n          Rejestracja\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var Z=r("VU/8")(X,Y,!1,function(t){r("HNc9")},"data-v-1a6a3e4b",null).exports;s.a.use(q.a);var tt=new q.a({routes:[{path:"/",name:"MainShop",component:G},{path:"/AboutUs",name:"AboutUs",component:W},{path:"/Contact",name:"Contact",component:B},{path:"/Order",name:"Order",component:Q},{path:"/Login",name:"Login",component:Z}]}),et=r("424j"),rt=r("hpwS"),at=r.n(rt),ot={orders:"192.168.8.108:8084/webservice-rest",products:"http://localhost:8082/product-webservice-rest",keycloak:"http://192.168.8.108:8080/auth/realms/rso/protocol/openid-connect/token",users:"http://localhost:8083/user-webservice-rest"},nt={products:"/api/products",categories:"/api/products/getCategoryNames"},st={login:"/api/token/getToken",logout:"/api/token/logout",refreshToken:"/api/token/refreshToken"},it=(r("7t+N"),this);s.a.use(f.a);var ct,dt,ut={cart:function(t){return t.cart},cartSum:function(t){return Math.round(100*t.cart.map(function(t){return t.price*t.quantity}).reduce(function(t,e){return t+e},0))/100},cartCount:function(t){return t.cart.map(function(t){return t.quantity}).reduce(function(t,e){return t+e},0)},loggedUser:function(t){return t.loggedUser},selectedCategory:function(t){return t.selectedCategory},displayedProducts:function(t){return t.displayedProducts},categories:function(t){return t.categories}},lt={initCategories:function(){var t=g()(p.a.mark(function t(e){var r,a,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=ot.products+nt.categories,a={},t.prev=2,t.next=5,s.a.axios.get(r,a);case 5:o=t.sent,console.log(o),e.commit("setCategories",o.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}},t,it,[[2,10]])}));return function(e){return t.apply(this,arguments)}}(),selectCategory:function(){var t=g()(p.a.mark(function t(e,r){var a,o,n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=ot.products+nt.products+"?filter=(categoryId=(eq:"+r+"))",t.prev=1,t.next=4,s.a.axios.get(a);case 4:o=t.sent,console.log(o.data.result),n={categoryId:r,products:o.data.result},e.commit("setProductCategory",n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}},t,it,[[1,10]])}));return function(e,r){return t.apply(this,arguments)}}(),logoutUser:function(){var t=g()(p.a.mark(function t(e){e.commit;var r,a,o=e.dispatch,n=e.state;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.token,o("forgetLoggedUser"),null===n.token){t.next=14;break}return t.prev=3,r=ot.users+st.logout,a={headers:{Authorization:"Bearer "+n.token.token,"content-type":"application/json"}},console.log(a),t.next=9,s.a.axios.post(r,{kappa:"kappa"},a);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:console.log("Logging Out"),window.alert("Wylogowano!");case 16:case"end":return t.stop()}},t,it,[[3,11]])}));return function(e){return t.apply(this,arguments)}}(),loginUser:(dt=g()(p.a.mark(function t(e,r){var a,o,n,i=e.commit;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(r),a=ot.users+st.login,o={username:r.username,password:r.password},t.next=6,s.a.axios.post(a,o);case 6:n=t.sent,console.log(n),i("setToken",n.data),i("setLoggedUser",o.username),alert("Zalogowano"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),dispatch("forgetLoggedUser"),alert("Błąd logowania!");case 18:case"end":return t.stop()}},t,it,[[0,13]])})),function(t,e){return dt.apply(this,arguments)}),refreshToken:(ct=g()(p.a.mark(function t(e){var r,a,o,n=e.commit,i=e.dispatch,c=e.state;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=ot.users+st.refreshToken,a={refreshToken:c.token.refreshToken},t.next=5,s.a.axios.post(r,a);case 5:o=t.sent,console.log(o),n("setToken",o.data),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),i("forgetLoggedUser");case 14:case"end":return t.stop()}},t,it,[[0,10]])})),function(t){return ct.apply(this,arguments)}),forgetLoggedUser:function(t){var e=t.commit;t.state;e("setToken",null),e("setLoggedUser",null)}},pt={dumpCart:function(t){t.cart=[]},addToCart:function(t,e){console.log(e.id);var r=t.cart.find(function(t){return t.id===e.id});void 0!==r?r.quantity+=e.quantity:t.cart.push(e)},deleteFromCart:function(t,e){t.cart=t.cart.filter(function(t){return t.id!==e})},setLoggedUser:function(t,e){t.loggedUser=e},setProductCategory:function(t,e){t.selectedCategory=e.categoryId,t.displayedProducts=e.products},setCategories:function(t,e){t.categories=e,t.selectedCategory=null,t.displayedProducts=[]},setToken:function(t,e){t.token=e}},mt=new f.a.Store({getters:ut,actions:lt,mutations:pt,state:{cart:[],selectedCategory:null,categories:[],displayedProducts:[],productsPage:1,loggedUser:"Kappa",token:null},plugins:[Object(et.a)(),at()({predicate:["dumpCart","addToCart","deleteFromCart","setLoggedUser"]})]}),gt=r("ESwS"),vt=r.n(gt),ft=r("mtWM"),bt=r.n(ft),Ct=r("Rf8U"),ht=r.n(Ct),yt=(r("Jmt5"),r("9M+g"),r("K/Lq"));s.a.config.productionTip=!1,s.a.use(i.a),s.a.use(yt),s.a.use(vt.a),s.a.use(ht.a,bt.a),new s.a({el:"#app",components:{App:P},template:"<App/>",router:tt,store:mt})},PSrW:function(t,e){},UrYE:function(t,e){},"WX+y":function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.967abdfe7bfba08dfe8b.js.map